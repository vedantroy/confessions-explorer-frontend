(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(e,t,n){e.exports=n(306)},163:function(e,t,n){},306:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(7),i=n.n(o),c=(n(147),n(137)),u=n.n(c),s=(n(148),n(83)),l=n.n(s),f=(n(149),n(138)),d=n.n(f),p=n(18),m=n(19),h=n(21),b=n(20),g=n(22),v=n(8),x=(n(153),n(135)),y=n.n(x),j=function(e,t){return e.length!==t.length||0!==e.filter(function(e){return!t.includes(e)}).length},O=n(10),E=n.n(O),w=(n(163),n(9));function k(){var e=Object(v.a)(["\n    box-sizing: border-box;\n    &:focus {\n        outline: none;\n    }\n    border: none;\n    padding: 6px 11px;\n    width: 100%;\n    height: 33px;\n    border-radius: 4px;\n"]);return k=function(){return e},e}function P(){var e=Object(v.a)(["\n    padding: 4px 0px;\n    border-top: ",";\n"]);return P=function(){return e},e}function R(){var e=Object(v.a)(["\n    background: white;\n    padding: 0px 11px;\n"]);return R=function(){return e},e}function S(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n"]);return S=function(){return e},e}function C(){var e=Object(v.a)(["\n  align-self: flex-start;\n  text-transform: uppercase;\n  font-size: 11px;\n  margin-bottom: 5px;\n  font-weight: 700;\n  ","\n"]);return C=function(){return e},e}function q(){var e=Object(v.a)(['\n  font-family: "DIN";\n']);return q=function(){return e},e}function F(){var e=Object(v.a)(["\n    box-shadow: 0 2px 8px rgba(50, 60, 80, 0.15);\n    &:hover{\n        ","\n    }\n    transition: box-shadow 0.3s;\n"]);return F=function(){return e},e}function I(){var e=Object(v.a)(["\n    box-shadow: 0 2px 8px rgba(90, 46, 255, 0.25);\n"]);return I=function(){return e},e}function M(){var e=Object(v.a)(["\n    box-shadow: rgba(193, 213, 224, 0.5) 0px 0px 40px;\n"]);return M=function(){return e},e}function T(){var e=Object(v.a)(['\n    font-family: "Avenir Next";\n']);return T=function(){return e},e}function V(){var e=Object(v.a)(["\n    white-space: nowrap;\n"]);return V=function(){return e},e}function N(){var e=Object(v.a)(["\n    justify-content: space-between;\n"]);return N=function(){return e},e}function L(){var e=Object(v.a)(["\n    justify-content: space-around;\n"]);return L=function(){return e},e}function D(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]);return D=function(){return e},e}var A=w.b.div(D()),Q=(Object(w.b)(A)(L()),Object(w.b)(A)(N())),z=Object(w.a)(V()),K=Object(w.a)(T()),U=(Object(w.a)(M()),Object(w.a)(I())),W=Object(w.a)(F(),U),_=Object(w.a)(q()),B=w.b.div(C(),_),H=w.b.div(S()),J=Object(w.b)(H)(R()),Y="2px solid rgb(246, 248, 252)",G=w.b.div(P(),Y),$=w.b.input(k()),X=n(139);function Z(){var e=Object(v.a)(["\n    border-bottom-left-radius: 4px;\n    border-bottom-right-radius: 4px;\n"]);return Z=function(){return e},e}function ee(){var e=Object(v.a)(["\n    color: ",";\n"]);return ee=function(){return e},e}function te(){var e=Object(v.a)(["\n    ","\n    ","\n"]);return te=function(){return e},e}var ne=w.b.div(te(),W,_),re=Object(w.b)(G)(ee(),function(e){return e.selected?"rgba(90, 46, 255, 1)":"inherit"}),ae=Object(w.b)(J)(Z()),oe=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).state={inputValue:"",selectedItem:""},n.inputElementKeyPress=function(e){13===e.nativeEvent.charCode&&n.props.items.indexOf(n.state.inputValue)>-1&&(n.props.onValueSelected(n.state.inputValue),n.setState({inputValue:"",selectedItem:""}))},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(X.a,{itemToString:function(e){return e||""},inputValue:this.state.inputValue,onInputValueChange:function(t){e.setState({inputValue:t,selectedItem:t})},selectedItem:this.state.selectedItem},function(t){var n=t.getInputProps,r=t.getItemProps,o=t.getLabelProps,i=t.getMenuProps,c=t.isOpen,u=t.inputValue,s=t.highlightedIndex,l=(t.selectedItem,e.props.items.filter(function(e){return!u||e.includes(u)})),f=c&&l.length>0;return a.a.createElement("div",null,a.a.createElement(B,o(),"Sources"),a.a.createElement(ne,null,a.a.createElement($,n({onKeyPress:e.inputElementKeyPress})),f?a.a.createElement(ae,i(),l.map(function(e,t){return a.a.createElement(re,Object.assign({},r({key:e,index:t,item:e}),{selected:s===t}),e)})):null))})}}]),t}(a.a.Component),ie=(n(166),n(27)),ce=n.n(ie);function ue(){var e=Object(v.a)(["\n    font-size: 14px;\n    cursor: pointer;\n    color: ",";\n"]);return ue=function(){return e},e}function se(){var e=Object(v.a)(["\n    padding: 4px 0px;\n    border-top: ",";\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n"]);return se=function(){return e},e}function le(){var e=Object(v.a)(["\n    ","\n    border-radius\n    : 4px;\n    ","\n"]);return le=function(){return e},e}var fe=Object(w.b)(J)(le(),W,_),de=w.b.div(se(),function(e){return e.isFirst?"inherit":Y}),pe=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).state={hover:!1},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(me,{onMouseEnter:function(){return e.setState({hover:!0})},onMouseLeave:function(){return e.setState({hover:!1})},onClick:this.props.onClick,type:this.state.hover?"close":"check",hover:"".concat(this.state.hover)})}}]),t}(a.a.Component),me=Object(w.b)(ce.a)(ue(),function(e){return e.hover?"rgb(31, 199, 148)":"#FF3559"}),he=function(e){return a.a.createElement(fe,null,e.sources.map(function(t,n){return a.a.createElement(de,{isFirst:0===n,key:t},a.a.createElement("div",null,t),a.a.createElement(pe,{onClick:function(){e.onRemove(t)}}))}))};function be(){var e=Object(v.a)(["\n    ","\n"]);return be=function(){return e},e}var ge=Object(w.b)($)(be(),W),ve=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).onKeyPress=function(e){13===e.nativeEvent.charCode&&n.props.onSubmit(n.inputElement.value)},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(ge,{ref:function(t){return e.inputElement=t},onKeyPress:this.onKeyPress})}}]),t}(a.a.Component),xe=n(82),ye=n.n(xe),je=n(140),Oe=n(133),Ee=n(134),we=n.n(Ee);function ke(){var e=Object(v.a)(["\n    ","\n    color: #000;\n    font-weight: bold;\n    font-size: 16px;\n    ","\n"]);return ke=function(){return e},e}function Pe(){var e=Object(v.a)(["\n    box-shadow: rgba(193, 213, 224, 0.35) 0px 0px 40px;\n    border-radius: 5px;\n    box-sizing: border-box;\n    padding: ",";\n    margin-top: 50px;\n    margin-bottom: 50px;\n    background: #ffff;\n    transition: all 0.4s;\n    &:hover {\n        transform: scale(1.02);\n        box-shadow: 0 0 40px rgba(193, 213, 224, 0.75);\n    }\n"]);return Pe=function(){return e},e}function Re(){var e=Object(v.a)(["\n    ","\n    ","\n    color: #5a2eff;\n    font-weight: 700;\n"]);return Re=function(){return e},e}function Se(){var e=Object(v.a)(["\n    padding-bottom: 10px\n"]);return Se=function(){return e},e}function Ce(){var e=Object(v.a)(["\n    color: inherit;\n    text-decoration: none;\n"]);return Ce=function(){return e},e}function qe(){var e=Object(v.a)(["\n    overflow-wrap: break-word;\n    word-wrap: break-word;\n    word-break: break-word;\n    hyphens: auto;\n"]);return qe=function(){return e},e}var Fe=function(e){return a.a.createElement(Me,{href:"http://facebook.com/".concat(e.confessionId),rel:"noopener noreferrer",target:"_blank"},a.a.createElement(Le,null,a.a.createElement(Ve,null,a.a.createElement(A,null,a.a.createElement(De,null,e.source)),a.a.createElement(A,null,a.a.createElement(Te,{icon:"date_range"}),a.a.createElement(Ne,{style:{marginRight:"10px"}},e.date),a.a.createElement(Te,{icon:"person"}),a.a.createElement(Ne,null,e.reacts))),a.a.createElement(Ie,null,e.text)))},Ie=w.b.p(qe()),Me=w.b.a(Ce()),Te=function(e){var t=e.icon;return a.a.createElement("div",{style:{marginRight:"5px"}},a.a.createElement(we.a,{icon:t,size:23,className:"material-icons bottom-align"}))},Ve=Object(w.b)(Q)(Se()),Ne=w.b.div(Re(),K,z),Le=w.b.div(Pe(),"20px"),De=w.b.div(ke(),K,z),Ae=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).containerElement=null,n.isLoading=!1,n.hasMore=!0,n.index=0,n.state={confessions:[]},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.appendNextPosts()}},{key:"componentDidUpdate",value:function(e){var t=this;e.queryParams!==this.props.queryParams&&(console.log("Query Params Updated--Resetting Page"),this.hasMore=!0,this.index=0,this.setState({confessions:[]},function(){t.appendNextPosts()}))}},{key:"appendNextPosts",value:function(){var e=Object(Oe.a)(ye.a.mark(function e(){var t,n,r=this;return ye.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,(t=new URL("https://api.confs.app/confessions")).search=new URLSearchParams(Object(je.a)({},this.props.queryParams,{index:this.index})),e.next=5,fetch(t).then(function(e){return e.json()}).catch(function(e){console.log("Failed to fetch data:"),console.log(e)});case 5:(n=e.sent).map(function(e){return e.time=E.a.unix(e.time).format("MM-DD-YYYY")}),n.length<10&&(this.hasMore=!1),this.index+=1,this.isLoading=!1,this.setState(function(e){return{confessions:e.confessions.concat(n)}},function(){if(r.hasMore){var e=r.containerElement.lastChild.getBoundingClientRect();e.top+e.height<r.containerElement.clientHeight?r.appendNextPosts():r.isLoading=!1}});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:{height:"100%",overflow:"auto",padding:"0px 20px"},onScroll:function(){e.containerElement.clientHeight+e.containerElement.scrollTop>=e.containerElement.scrollHeight-e.containerElement.clientHeight/5&&!e.isLoading&&e.hasMore&&e.appendNextPosts()},ref:function(t){return e.containerElement=t}},this.state.confessions.map(function(e){return a.a.createElement(Fe,{key:e.fb_id,source:e.group,date:e.time,reacts:e.reacts.Total,text:e.text,confessionId:e.fb_id})}))}}]),t}(r.Component);function Qe(){var e=Object(v.a)(["\n  height: 50vh;\n  min-height: 350px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  padding: 20px;\n  background: #F1F3F8;\n  border-bottom-left-radius: 10px;\n  border-bottom-right-radius: 10px;\n"]);return Qe=function(){return e},e}function ze(){var e=Object(v.a)(["\n  height: 64px;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n  line-height: 64px;\n  text-align: center;\n  vertical-align: middle;\n  background: #141d24;\n  ","\n  color: #fff;\n  font-size: 24px;\n"]);return ze=function(){return e},e}var Ke=y.a.RangePicker,Ue=w.b.div(ze(),K),We=w.b.div(Qe()),_e=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).defaultSuggestions=["MIT Summer Confessions"],n.defaultSources=["MIT Confessions"],n.defaultTextFilter="",n.defaultMinReacts=20,n.defaultTimeRange=[E()().subtract(2,"years"),E()()],n.state={suggestions:n.defaultSuggestions,sources:n.defaultSources,timeRange:n.defaultTimeRange,minReacts:n.defaultMinReacts,textFilter:n.defaultTextFilter,queryParams:n.queryParams},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"DEBUG_compareState",value:function(e,t){e.minReacts!==t.minReacts&&console.log("minReacts unequal"),j(e.sources,t.sources)&&console.log("sources unequal"),j(e.timeRange,t.timeRange)&&console.log("time range unequal"),e.textFilter!==t.textFilter&&console.log("text filter unequal"),e.queryParams!==t.queryParams&&console.log("query params unequal")}},{key:"updateQueryParams",value:function(){this.setState({queryParams:this.queryParams})}},{key:"render",value:function(){var e=this;return a.a.createElement(u.a,{style:{height:"100%"}},a.a.createElement(l.a,{span:10,style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"0px 15px"}},a.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",maxWidth:"400px"}},a.a.createElement(Ue,null,"Search"),a.a.createElement(We,null,a.a.createElement("div",null,a.a.createElement(B,null,"Text Search"),a.a.createElement(ve,{onSubmit:function(t){e.setState({textFilter:t},e.updateQueryParams)}})),a.a.createElement(oe,{items:this.state.suggestions,onValueSelected:function(t){var n=e.state.suggestions.filter(function(e){return e!==t}),r=e.state.sources.concat(t);e.setState({suggestions:n,sources:r},e.updateQueryParams)}}),a.a.createElement(he,{sources:this.state.sources,onRemove:function(t){e.setState({suggestions:e.state.suggestions.concat(t),sources:e.state.sources.filter(function(e){return e!==t})},e.updateQueryParams)}}),a.a.createElement("div",null,a.a.createElement(B,null,"Date Range"),a.a.createElement(Ke,{onChange:function(t){e.setState({timeRange:t},e.updateQueryParams)},defaultValue:this.defaultTimeRange})),a.a.createElement("div",null,a.a.createElement(B,null,"Reactions"),a.a.createElement(d.a,{defaultValue:this.defaultMinReacts,onAfterChange:function(t){e.state.minReacts!==t&&e.setState({minReacts:t},e.updateQueryParams)}}))))),a.a.createElement(l.a,{span:14,style:{height:"100%"}},a.a.createElement(Ae,{queryParams:this.state.queryParams})))}},{key:"queryParams",get:function(){return void 0===this.state?{sources:JSON.stringify(this.defaultSources),timeRange:this.defaultTimeRange.map(function(e){return e.valueOf()}),minReacts:this.defaultMinReacts,textFilter:this.defaultTextFilter}:{sources:JSON.stringify(this.state.sources),timeRange:this.state.timeRange.map(function(e){return e.valueOf()}),minReacts:this.state.minReacts,textFilter:this.state.textFilter}}}]),t}(r.Component),Be=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function He(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(a.a.createElement(_e,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat(".","/service-worker.js");Be?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):He(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):He(e)})}}()}},[[142,1,2]]]);
//# sourceMappingURL=main.88579db9.chunk.js.map