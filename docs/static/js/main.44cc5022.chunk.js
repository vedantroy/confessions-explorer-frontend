(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{146:function(e,n,t){e.exports=t(318)},167:function(e,n,t){},318:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(7),i=t.n(o),c=(t(151),t(142)),u=t.n(c),s=(t(152),t(86)),l=t.n(s),f=(t(153),t(143)),p=t.n(f),d=t(60),m=t(14),h=t(15),b=t(17),g=t(16),v=t(18),x=t(8),j=(t(157),t(140)),O=t.n(j),E=t(10),y=t.n(E),w=(t(167),t(9));function k(){var e=Object(x.a)(["\n    ","\n"]);return k=function(){return e},e}function C(){var e=Object(x.a)(["\n    box-sizing: border-box;\n    &:focus {\n        outline: none;\n    }\n    border: none;\n    padding: 6px 11px;\n    width: 100%;\n    height: 33px;\n    border-radius: 4px;\n"]);return C=function(){return e},e}function P(){var e=Object(x.a)(["\n    padding: 4px 0px;\n    border-top: ",";\n"]);return P=function(){return e},e}function S(){var e=Object(x.a)(["\n    background: white;\n    padding: 0px 11px;\n"]);return S=function(){return e},e}function R(){var e=Object(x.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n"]);return R=function(){return e},e}function I(){var e=Object(x.a)(["\n  align-self: flex-start;\n  ","\n  margin-bottom: 5px;\n\n"]);return I=function(){return e},e}function F(){var e=Object(x.a)(["\n  text-transform: uppercase;\n  font-size: 11px;\n  font-weight: 700;\n  ","\n"]);return F=function(){return e},e}function M(){var e=Object(x.a)(['\n  font-family: "DIN";\n']);return M=function(){return e},e}function N(){var e=Object(x.a)(["\n    box-shadow: 0 2px 8px rgba(50, 60, 80, 0.15);\n    &:hover{\n        ","\n    }\n    transition: box-shadow 0.3s;\n"]);return N=function(){return e},e}function V(){var e=Object(x.a)(["\n    box-shadow: 0 2px 8px rgba(90, 46, 255, 0.25);\n"]);return V=function(){return e},e}function L(){var e=Object(x.a)(["\n    box-shadow: rgba(193, 213, 224, 0.5) 0px 0px 40px;\n"]);return L=function(){return e},e}function D(){var e=Object(x.a)(['\n    font-family: "Avenir Next";\n']);return D=function(){return e},e}function T(){var e=Object(x.a)(["\n    white-space: nowrap;\n"]);return T=function(){return e},e}function A(){var e=Object(x.a)(["\n    justify-content: space-between;\n"]);return A=function(){return e},e}function K(){var e=Object(x.a)(["\n    justify-content: space-around;\n"]);return K=function(){return e},e}function z(){var e=Object(x.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]);return z=function(){return e},e}var W=w.b.div(z()),q=(Object(w.b)(W)(K()),Object(w.b)(W)(A())),U=Object(w.a)(T()),H=Object(w.a)(D()),Y=(Object(w.a)(L()),Object(w.a)(V())),_=Object(w.a)(N(),Y),B=Object(w.a)(M()),J=Object(w.a)(F(),B),Q=w.b.div(I(),J),$=w.b.div(R()),G=Object(w.b)($)(S()),X="2px solid rgb(246, 248, 252)",Z=w.b.div(P(),X),ee=w.b.input(C()),ne=Object(w.b)(ee)(k(),_),te=t(144);function re(){var e=Object(x.a)(["\n    border-bottom-left-radius: 4px;\n    border-bottom-right-radius: 4px;\n"]);return re=function(){return e},e}function ae(){var e=Object(x.a)(["\n    color: ",";\n"]);return ae=function(){return e},e}function oe(){var e=Object(x.a)(["\n    ","\n    ","\n"]);return oe=function(){return e},e}var ie=w.b.div(oe(),_,B),ce=Object(w.b)(Z)(ae(),function(e){return e.selected?"rgba(90, 46, 255, 1)":"inherit"}),ue=Object(w.b)(G)(re()),se=function(e){function n(){var e,t;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(b.a)(this,(e=Object(g.a)(n)).call.apply(e,[this].concat(a)))).state={inputValue:"",selectedItem:""},t.inputElementKeyPress=function(e){13===e.nativeEvent.charCode&&t.props.items.indexOf(t.state.inputValue)>-1&&(t.props.onValueSelected(t.state.inputValue),t.setState({inputValue:"",selectedItem:""}))},t}return Object(v.a)(n,e),Object(h.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement(te.a,{itemToString:function(e){return e||""},inputValue:this.state.inputValue,onInputValueChange:function(n){e.setState({inputValue:n,selectedItem:n})},selectedItem:this.state.selectedItem},function(n){var t=n.getInputProps,r=n.getItemProps,o=n.getLabelProps,i=n.getMenuProps,c=n.isOpen,u=n.inputValue,s=n.highlightedIndex,l=(n.selectedItem,e.props.items.filter(function(e){return!u||e.includes(u)})),f=c&&l.length>0;return a.a.createElement("div",null,a.a.createElement(Q,o(),"Sources"),a.a.createElement(ie,null,a.a.createElement(ee,t({onKeyPress:e.inputElementKeyPress})),f?a.a.createElement(ue,i(),l.map(function(e,n){return a.a.createElement(ce,Object.assign({},r({key:e,index:n,item:e}),{selected:s===n}),e)})):null))})}}]),n}(a.a.Component),le=(t(170),t(28)),fe=t.n(le);function pe(){var e=Object(x.a)(["\n    font-size: 14px;\n    cursor: pointer;\n    color: ",";\n"]);return pe=function(){return e},e}function de(){var e=Object(x.a)(["\n    padding: 4px 0px;\n    border-top: ",";\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n"]);return de=function(){return e},e}function me(){var e=Object(x.a)(["\n    ","\n    border-radius\n    : 4px;\n    ","\n"]);return me=function(){return e},e}var he=Object(w.b)(G)(me(),_,B),be=w.b.div(de(),function(e){return e.isFirst?"inherit":X}),ge=function(e){function n(){var e,t;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(b.a)(this,(e=Object(g.a)(n)).call.apply(e,[this].concat(a)))).state={hover:!1},t}return Object(v.a)(n,e),Object(h.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement(ve,{onMouseEnter:function(){return e.setState({hover:!0})},onMouseLeave:function(){return e.setState({hover:!1})},onClick:this.props.onClick,type:this.state.hover?"close":"check",hover:"".concat(this.state.hover)})}}]),n}(a.a.Component),ve=Object(w.b)(fe.a)(pe(),function(e){return e.hover?"rgb(31, 199, 148)":"#FF3559"}),xe=function(e){return a.a.createElement(he,null,e.sources.map(function(n,t){return a.a.createElement(be,{isFirst:0===t,key:n},a.a.createElement("div",null,n),a.a.createElement(ge,{onClick:function(){e.onRemove(n)}}))}))},je=function(e){function n(){var e,t;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(b.a)(this,(e=Object(g.a)(n)).call.apply(e,[this].concat(a)))).onKeyPress=function(e){13===e.nativeEvent.charCode&&t.props.onSubmit(t.inputElement.value)},t}return Object(v.a)(n,e),Object(h.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement(ne,{ref:function(n){return e.inputElement=n},onKeyPress:this.onKeyPress})}}]),n}(a.a.Component),Oe=t(84),Ee=t.n(Oe),ye=t(136),we=t(137),ke=t(138),Ce=t.n(ke);function Pe(){var e=Object(x.a)(["\n    ","\n    color: #000;\n    font-weight: bold;\n    font-size: 16px;\n    ","\n"]);return Pe=function(){return e},e}function Se(){var e=Object(x.a)(["\n    box-shadow: rgba(193, 213, 224, 0.35) 0px 0px 40px;\n    border-radius: 5px;\n    box-sizing: border-box;\n    padding: ",";\n    margin-top: 50px;\n    margin-bottom: 50px;\n    background: #ffff;\n    transition: all 0.4s;\n    &:hover {\n        transform: scale(1.02);\n        box-shadow: 0 0 40px rgba(193, 213, 224, 0.75);\n    }\n"]);return Se=function(){return e},e}function Re(){var e=Object(x.a)(["\n    ","\n    ","\n    color: #5a2eff;\n    font-weight: 700;\n"]);return Re=function(){return e},e}function Ie(){var e=Object(x.a)(["\n    padding-bottom: 10px\n"]);return Ie=function(){return e},e}function Fe(){var e=Object(x.a)(["\n    color: inherit;\n    text-decoration: none;\n"]);return Fe=function(){return e},e}function Me(){var e=Object(x.a)(["\n    overflow-wrap: break-word;\n    word-wrap: break-word;\n    word-break: break-word;\n    hyphens: auto;\n"]);return Me=function(){return e},e}var Ne=function(e){return a.a.createElement(Le,{href:"http://facebook.com/".concat(e.confessionId),rel:"noopener noreferrer",target:"_blank"},a.a.createElement(Ke,null,a.a.createElement(Te,null,a.a.createElement(W,null,a.a.createElement(ze,null,e.source)),a.a.createElement(W,null,a.a.createElement(De,{icon:"date_range"}),a.a.createElement(Ae,{style:{marginRight:"10px"}},e.date),a.a.createElement(De,{icon:"person"}),a.a.createElement(Ae,null,e.reacts))),a.a.createElement(Ve,null,e.text)))},Ve=w.b.p(Me()),Le=w.b.a(Fe()),De=function(e){var n=e.icon;return a.a.createElement("div",{style:{marginRight:"5px"}},a.a.createElement(Ce.a,{icon:n,size:23,className:"material-icons bottom-align"}))},Te=Object(w.b)(q)(Ie()),Ae=w.b.div(Re(),H,U),Ke=w.b.div(Se(),"20px"),ze=w.b.div(Pe(),H,U),We=function(e){function n(){var e,t;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(b.a)(this,(e=Object(g.a)(n)).call.apply(e,[this].concat(a)))).containerElement=null,t.isLoading=!1,t.hasMore=!0,t.index=0,t.state={confessions:[]},t}return Object(v.a)(n,e),Object(h.a)(n,[{key:"componentDidMount",value:function(){this.appendNextPosts()}},{key:"componentDidUpdate",value:function(e){var n=this;console.log(e.queryParams),e.queryParams!==this.props.queryParams&&(console.log("Query Params Updated--Resetting Page"),this.hassMore=!0,this.index=0,this.setState({confessions:[]},function(){n.appendNextPosts()}))}},{key:"appendNextPosts",value:function(){var e=Object(we.a)(Ee.a.mark(function e(){var n,t,r=this;return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,(n=new URL("https://api.confs.app/confessions")).search=new URLSearchParams(Object(ye.a)({},this.props.queryParams,{index:this.index})),e.next=5,fetch(n).then(function(e){return e.json()}).catch(function(e){console.log("Failed to fetch data:"),console.log(e)});case 5:t=e.sent,console.log(t),t.map(function(e){return e.time=y.a.unix(e.time).format("MM-DD-YYYY")}),t.length<10&&(this.hasMore=!1),this.index+=1,this.isLoading=!1,this.setState(function(e){return{confessions:e.confessions.concat(t)}},function(){if(r.hasMore){var e=r.containerElement.lastChild.getBoundingClientRect();e.top+e.height<r.containerElement.clientHeight?r.appendNextPosts():r.isLoading=!1}});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:{height:"100%",overflow:"auto",padding:"0px 20px"},onScroll:function(){e.containerElement.clientHeight+e.containerElement.scrollTop>=e.containerElement.scrollHeight-e.containerElement.clientHeight/5&&!e.isLoading&&e.hasMore&&e.appendNextPosts()},ref:function(n){return e.containerElement=n}},this.state.confessions.map(function(e){return a.a.createElement(Ne,{key:e.fb_id,source:e.group,date:e.time,reacts:e.reacts.Total,text:e.text,confessionId:e.fb_id})}))}}]),n}(r.Component),qe=(t(241),t(85)),Ue=t.n(qe);function He(){var e=Object(x.a)(['\n    text-transform: uppercase;\n    font-size: 11px;\n    font-family: "DIN";\n    font-weight: bolder;\n    color: rgb(148, 157, 170);\n    display: flex;\n    justify-content: center;\n    align-content: center;\n    flex-direction: column;\n']);return He=function(){return e},e}var Ye=w.b.span(He()),_e=function(e){function n(){return Object(m.a)(this,n),Object(b.a)(this,Object(g.a)(n).apply(this,arguments))}return Object(v.a)(n,e),Object(h.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"stretch",marginTop:"5px"}},a.a.createElement(Ue.a,{defaultChecked:!0,onChange:function(n){e.props.onChange("commented")}}),a.a.createElement(Ye,null,"Commented"),a.a.createElement(Ue.a,{defaultChecked:!0,onChange:function(n){e.props.onChange("tagged")}}),a.a.createElement(Ye,null,"Tagged"))}}]),n}(a.a.Component),Be=function(e){function n(){var e,t;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(b.a)(this,(e=Object(g.a)(n)).call.apply(e,[this].concat(a)))).onKeyPress=function(e){13===e.nativeEvent.charCode&&t.props.onSubmit(t.inputElement.value)},t}return Object(v.a)(n,e),Object(h.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement(ne,{ref:function(n){return e.inputElement=n},onKeyPress:this.onKeyPress})}}]),n}(a.a.Component);function Je(){var e=Object(x.a)(["\n  height: 50vh;\n  min-height: 350px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  padding: 20px;\n  background: #F1F3F8;\n  border-bottom-left-radius: 10px;\n  border-bottom-right-radius: 10px;\n"]);return Je=function(){return e},e}function Qe(){var e=Object(x.a)(["\n  height: 64px;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n  line-height: 64px;\n  text-align: center;\n  vertical-align: middle;\n  background: #141d24;\n  ","\n  color: #fff;\n  font-size: 24px;\n"]);return Qe=function(){return e},e}var $e=O.a.RangePicker,Ge=w.b.div(Qe(),H),Xe=w.b.div(Je()),Ze=function(e){function n(){var e,t;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(b.a)(this,(e=Object(g.a)(n)).call.apply(e,[this].concat(a)))).state={suggestions:["MIT Summer Confessions"],sources:["MIT Confessions"],timeRange:[y()().subtract(2,"years"),y()()],minReacts:20,textFilter:"",nameFilter:"",commented:!0,tagged:!0},t}return Object(v.a)(n,e),Object(h.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement(u.a,{style:{height:"100%"}},a.a.createElement(l.a,{span:10,style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"0px 15px"}},a.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",maxWidth:"400px"}},a.a.createElement(Ge,null,"Search"),a.a.createElement(Xe,null,a.a.createElement("div",null,a.a.createElement(Q,null,"Name"),a.a.createElement("div",null,a.a.createElement(Be,{onSubmit:function(n){e.setState({nameFilter:n})}}),a.a.createElement(_e,{onChange:function(n){e.setState(Object(d.a)({},n,!e.state[n]))}}))),a.a.createElement("div",null,a.a.createElement(Q,null,"Included Text"),a.a.createElement(je,{onSubmit:function(n){e.setState({textFilter:n})}})),a.a.createElement(se,{items:this.state.suggestions,onValueSelected:function(n){var t=e.state.suggestions.filter(function(e){return e!==n}),r=e.state.sources.concat(n);e.setState({suggestions:t,sources:r})}}),a.a.createElement(xe,{sources:this.state.sources,onRemove:function(n){e.setState({suggestions:e.state.suggestions.concat(n),sources:e.state.sources.filter(function(e){return e!==n})})}}),a.a.createElement("div",null,a.a.createElement(Q,null,"Date Range"),a.a.createElement($e,{onChange:function(n){e.setState({timeRange:n})},defaultValue:this.state.timeRange})),a.a.createElement("div",null,a.a.createElement(Q,null,"Reactions"),a.a.createElement(p.a,{defaultValue:this.state.minReacts,onAfterChange:function(n){e.state.minReacts!==n&&e.setState({minReacts:n})}}))))),a.a.createElement(l.a,{span:14,style:{height:"100%"}},a.a.createElement(We,{queryParams:function(e){var n=e.sources,t=e.timeRange,r=e.minReacts,a=e.textFilter,o=e.nameFilter,i=e.commented,c=e.tagged;return{sources:JSON.stringify(n),timeRange:t.map(function(e){return e.valueOf()}),minReacts:r,textFilter:a,nameFilter:o,commented:i,tagged:c}}(this.state)})))}}]),n}(r.Component),en=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function nn(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(a.a.createElement(Ze,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat(".","/service-worker.js");en?(function(e){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):nn(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):nn(e)})}}()}},[[146,1,2]]]);
//# sourceMappingURL=main.44cc5022.chunk.js.map