(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{155:function(e,n,t){t(156),e.exports=t(343)},181:function(e,n,t){},283:function(e,n,t){"use strict";t.r(n);var a=t(126),r=t.n(a);t.d(n,"CalendarOutline",function(){return r.a})},343:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),o=t(7),i=t.n(o),c=(t(171),t(152)),s=t.n(c),u=(t(172),t(91)),l=t.n(u),f=t(61),d=t(63),p=t(62),h=t(19),m=t(20),b=t(22),g=t(21),x=t(23),v=t(9),O=t(64),j=t.n(O),y=t(8),E=t.n(y),w=t(153),C=(t(181),t(10));function k(){var e=Object(v.a)(['\n  text-transform: uppercase;\n  font-size: 11px;\n  font-family: "DIN";\n  font-weight: bolder;\n  color: rgb(148, 157, 170);\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  flex-direction: column;\n']);return k=function(){return e},e}function R(){var e=Object(v.a)(["\n  ","\n"]);return R=function(){return e},e}function P(){var e=Object(v.a)(["\n  box-sizing: border-box;\n  &:focus {\n    outline: none;\n  }\n  border: none;\n  padding: 6px 11px;\n  width: 100%;\n  height: 33px;\n  border-radius: 4px;\n"]);return P=function(){return e},e}function S(){var e=Object(v.a)(["\n  padding: 4px 0px;\n  border-top: ",";\n"]);return S=function(){return e},e}function N(){var e=Object(v.a)(["\n  background: white;\n  padding: 0px 11px;\n"]);return N=function(){return e},e}function T(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n"]);return T=function(){return e},e}function D(){var e=Object(v.a)(["\n  align-self: flex-start;\n  ","\n  margin-bottom: 5px;\n"]);return D=function(){return e},e}function I(){var e=Object(v.a)(["\n  text-transform: uppercase;\n  font-size: 11px;\n  font-weight: 700;\n  ","\n"]);return I=function(){return e},e}function L(){var e=Object(v.a)(['\n  font-family: "DIN";\n']);return L=function(){return e},e}function z(){var e=Object(v.a)(["\n  box-shadow: 0 2px 8px rgba(50, 60, 80, 0.15);\n  &:hover {\n    ","\n  }\n  transition: box-shadow 0.3s;\n"]);return z=function(){return e},e}function M(){var e=Object(v.a)(["\n  box-shadow: 0 2px 8px rgba(90, 46, 255, 0.25);\n"]);return M=function(){return e},e}function A(){var e=Object(v.a)(["\n  box-shadow: rgba(193, 213, 224, 0.5) 0px 0px 40px;\n"]);return A=function(){return e},e}function V(){var e=Object(v.a)(['\n  font-family: "Avenir Next";\n']);return V=function(){return e},e}function W(){var e=Object(v.a)(["\n  white-space: nowrap;\n"]);return W=function(){return e},e}function _(){var e=Object(v.a)(["\n  justify-content: space-between;\n"]);return _=function(){return e},e}function F(){var e=Object(v.a)(["\n  justify-content: space-around;\n"]);return F=function(){return e},e}function K(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return K=function(){return e},e}var q=C.b.div(K()),U=(Object(C.b)(q)(F()),Object(C.b)(q)(_())),H=Object(C.a)(W()),Y=Object(C.a)(V()),B=(Object(C.a)(A()),Object(C.a)(M())),J=Object(C.a)(z(),B),Q=Object(C.a)(L()),$=Object(C.a)(I(),Q),G=C.b.div(D(),$),X=C.b.div(T()),Z=(Object(C.b)(X)(N()),C.b.div(S(),"2px solid rgb(246, 248, 252)"),C.b.input(P())),ee=Object(C.b)(Z)(R(),J),ne=C.b.span(k()),te=t(89),ae=t.n(te),re=t(144),oe=t(145),ie=t.n(oe),ce=t(146),se=t.n(ce);function ue(){var e=Object(v.a)(["\n  ","\n  color: #000;\n  font-weight: bold;\n  font-size: 16px;\n  ","\n"]);return ue=function(){return e},e}function le(){var e=Object(v.a)(["\n  box-shadow: rgba(193, 213, 224, 0.35) 0px 0px 40px;\n  border-radius: 5px;\n  box-sizing: border-box;\n  padding: ",";\n  margin-top: 50px;\n  margin-bottom: 50px;\n  background: #ffff;\n  transition: all 0.4s;\n  &:hover {\n    transform: scale(1.02);\n    box-shadow: 0 0 40px rgba(193, 213, 224, 0.75);\n  }\n"]);return le=function(){return e},e}function fe(){var e=Object(v.a)(["\n  ","\n  ","\n    color: #5a2eff;\n  font-weight: 700;\n"]);return fe=function(){return e},e}function de(){var e=Object(v.a)(["\n  padding-bottom: 10px;\n"]);return de=function(){return e},e}function pe(){var e=Object(v.a)(["\n  color: inherit;\n  text-decoration: none;\n"]);return pe=function(){return e},e}function he(){var e=Object(v.a)(["\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  word-break: break-word;\n  hyphens: auto;\n  white-space: pre-wrap;\n"]);return he=function(){return e},e}var me=function(e){return r.a.createElement(ge,{href:"http://facebook.com/".concat(e.confessionId),rel:"noopener noreferrer",target:"_blank"},r.a.createElement(je,null,r.a.createElement(ve,null,r.a.createElement(q,null,r.a.createElement(ye,null,e.source)),r.a.createElement(q,null,r.a.createElement(xe,{icon:"date_range"}),r.a.createElement(Oe,{style:{marginRight:"10px"}},e.date),r.a.createElement(xe,{icon:"person"}),r.a.createElement(Oe,null,e.reacts.Total))),r.a.createElement(be,null,e.text)))},be=C.b.p(he()),ge=C.b.a(pe()),xe=function(e){var n=e.icon;return r.a.createElement("div",{style:{marginRight:"5px"}},r.a.createElement(se.a,{icon:n,size:23,className:"material-icons bottom-align"}))},ve=Object(C.b)(U)(de()),Oe=C.b.div(fe(),Y,H),je=C.b.div(le(),"20px"),ye=C.b.div(ue(),Y,H),Ee=function(e){function n(){var e,t;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(b.a)(this,(e=Object(g.a)(n)).call.apply(e,[this].concat(r)))).mounted=void 0,t.containerElement=null,t.isLoading=!1,t.hasMore=!0,t.index=0,t.state={confessions:[]},t}return Object(x.a)(n,e),Object(m.a)(n,[{key:"componentDidMount",value:function(){this.mounted=!0,this.appendNextPosts()}},{key:"componentDidUpdate",value:function(e){var n=this;ie()(e.queryParams,this.props.queryParams)||(this.hasMore=!0,this.index=0,this.setState({confessions:[]},function(){n.appendNextPosts()}))}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"appendNextPosts",value:function(){var e=Object(re.a)(ae.a.mark(function e(){var n,t,a=this;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,"https://api.confs.app/confessions","http://localhost:8000/confessions",(n=new URL("https://api.confs.app/confessions")).search=new URLSearchParams(Object(f.a)({},this.props.queryParams,{index:this.index})),e.next=7,fetch(n).then(function(e){return e.json()}).catch(function(e){console.log("Failed to fetch data:"),console.log(e)});case 7:if((t=(t=e.sent).map(function(e){var n=e.fb_id,t=e.text,a=(e.time,Object(d.a)(e,["fb_id","text","time"]));return{fb_id:n,text:t,time:E.a.unix(e.time).format("MM-DD-YYYY"),reacts:a}})).length<10&&(this.hasMore=!1),this.index+=1,this.isLoading=!1,this.mounted){e.next=14;break}return e.abrupt("return");case 14:this.setState(function(e){return{confessions:e.confessions.concat(t)}},function(){if(a.hasMore){var e=a.containerElement.lastChild.getBoundingClientRect();e.top+e.height<a.containerElement.clientHeight?a.appendNextPosts():a.isLoading=!1}});case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:this.props.style,onScroll:function(){e.containerElement.clientHeight+e.containerElement.scrollTop>=e.containerElement.scrollHeight-e.containerElement.clientHeight/5&&!e.isLoading&&e.hasMore&&e.appendNextPosts()},ref:function(n){return e.containerElement=n}},this.state.confessions.map(function(e){return r.a.createElement(me,{key:e.fb_id,source:e.group,date:e.time,text:e.text,confessionId:e.fb_id,reacts:e.reacts})}))}}]),n}(a.Component),we=(t(208),t(151)),Ce=t.n(we),ke=(t(212),t(148)),Re=t.n(ke),Pe=function(e){function n(){var e,t;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(b.a)(this,(e=Object(g.a)(n)).call.apply(e,[this].concat(r)))).onKeyPress=function(e){13===e.nativeEvent.charCode&&t.props.onSubmit(t.inputElement.value)},t}return Object(x.a)(n,e),Object(m.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(ee,{ref:function(n){return e.inputElement=n},onKeyPress:this.onKeyPress,defaultValue:this.props.defaultValue})}}]),n}(r.a.Component),Se=(t(221),t(90)),Ne=t.n(Se),Te=function(e){function n(){return Object(h.a)(this,n),Object(b.a)(this,Object(g.a)(n).apply(this,arguments))}return Object(x.a)(n,e),Object(m.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"stretch",marginTop:"5px"}},r.a.createElement(Ne.a,{defaultChecked:this.props.includeCommenters,onChange:function(n){e.props.onChange("commented")}}),r.a.createElement(ne,null,"Commented"),r.a.createElement(Ne.a,{defaultChecked:this.props.includeTagged,onChange:function(n){e.props.onChange("tagged")}}),r.a.createElement(ne,null,"Tagged"))}}]),n}(r.a.Component),De=function(e){function n(){var e,t;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(b.a)(this,(e=Object(g.a)(n)).call.apply(e,[this].concat(r)))).onKeyPress=function(e){13===e.nativeEvent.charCode&&t.props.onSubmit(t.inputElement.value)},t}return Object(x.a)(n,e),Object(m.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(ee,{ref:function(n){return e.inputElement=n},onKeyPress:this.onKeyPress,defaultValue:this.props.defaultValue})}}]),n}(r.a.Component);function Ie(){var e=Object(v.a)(["\n  font-size: 13px;\n  padding-top: 1vh;\n  transition: 0.3s;\n  &:hover {\n    color: rgb(90, 46, 255);\n  }\n"]);return Ie=function(){return e},e}function Le(){var e=Object(v.a)(["\n  height: 50vh;\n  min-height: 350px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  padding: 20px;\n  background: #f1f3f8;\n  border-bottom-left-radius: 10px;\n  border-bottom-right-radius: 10px;\n"]);return Le=function(){return e},e}function ze(){var e=Object(v.a)(["\n  height: 64px;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n  line-height: 64px;\n  text-align: center;\n  vertical-align: middle;\n  background: #141d24;\n  ","\n  color: #fff;\n  font-size: 24px;\n"]);return ze=function(){return e},e}var Me=Re.a.RangePicker,Ae=C.b.div(ze(),Y),Ve=C.b.div(Le()),We=(Object(C.b)(ne)(Ie()),function(e){var n=e.name,t=e.onNameChange,a=e.onNameTypeChange,o=e.includeCommenters,i=e.includeTagged,c=e.searchPhrase,s=e.onSearchPhraseChange,u=e.timeRange,l=e.onTimeRangeChange,f=e.minReacts,d=e.onReactsChange;return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",maxWidth:"400px"}},r.a.createElement(Ae,null,"Search"),r.a.createElement(Ve,null,r.a.createElement("div",null,r.a.createElement(G,null,"Name (Enter to Submit)"),r.a.createElement("div",null,r.a.createElement(De,{defaultValue:n,onSubmit:t}),r.a.createElement(Te,{includeCommenters:o,includeTagged:i,onChange:a}))),r.a.createElement("div",null,r.a.createElement(G,null,"Included Text (Enter to Submit)"),r.a.createElement(Pe,{defaultValue:c,onSubmit:s})),r.a.createElement("div",null,r.a.createElement(G,null,"Date Range"),r.a.createElement(Me,{onChange:l,defaultValue:u})),r.a.createElement("div",null,r.a.createElement(G,null,"Reactions"),r.a.createElement(Ce.a,{max:1e3,defaultValue:f,onAfterChange:d}))))});function _e(){var e=Object(v.a)(["\n    color: #fff;\n    text-align: center;\n    cursor: pointer;\n    line-height: 35px;\n    height: 35px;\n    border-radius: 6px;\n    padding: 0 20px;\n    -webkit-transition: all 0.4s;\n    transition: all 0.4s;\n    background: #f5222d;\n    text-transform: uppercase;\n    font-weight: bold;\n    ","\n    background: ","\n    width: 120px;\n    box-shadow: rgba(193, 213, 224, 0.35) 0px 0px 40px;\n    &:hover {\n      transform: scale(1.02);\n      box-shadow: 0 0 40px rgba(193, 213, 224, 0.75);\n    }\n  }\n"]);return _e=function(){return e},e}j.a.setAppElement("#root"),j.a.defaultStyles.content={position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",overflow:"auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"};var Fe=C.b.div(_e(),Q,"#5a2eff"),Ke=function(e){function n(){var e,t;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(b.a)(this,(e=Object(g.a)(n)).call.apply(e,[this].concat(r)))).state={timeRange:[E()(new Date("2013","00","01")),E()()],minReacts:0,searchPhrase:"",nameFilter:"",commented:!0,tagged:!0,modalOpen:!1},t}return Object(x.a)(n,e),Object(m.a)(n,[{key:"render",value:function(){var e=this,n=r.a.createElement(We,{name:this.state.nameFilter,onNameChange:function(n){e.setState({nameFilter:n})},onNameTypeChange:function(n){e.setState(Object(p.a)({},n,!e.state[n]))},includeCommenters:this.state.commented,includeTagged:this.state.tagged,searchPhrase:this.state.searchPhrase,onSearchPhraseChange:function(n){e.setState({searchPhrase:n})},timeRange:this.state.timeRange,onTimeRangeChange:function(n){e.setState({timeRange:n})},minReacts:this.state.minReacts,onReactsChange:function(n){e.state.minReacts!==n&&e.setState({minReacts:n})}}),t=r.a.createElement(Ee,{style:{height:"100%",overflow:"auto",paddingLeft:"20px",paddingRight:"20px",paddingTop:"20px"},queryParams:function(e){e.sources,e.suggestions,e.modalOpen;var n=Object(d.a)(e,["sources","suggestions","modalOpen"]);return Object(f.a)({},n,{timeRange:JSON.stringify(n.timeRange.map(function(e){return Math.trunc(e.valueOf()/1e3)})),name:n.nameFilter})}(this.state)});return r.a.createElement(w.a,{queries:{small:{maxWidth:549}}},function(o){return o.small?r.a.createElement(a.Fragment,null,r.a.createElement("a",{style:{textDecoration:"none",position:"fixed",top:"15px",left:"15px",zIndex:"2",userSelect:"none"},onClick:function(){e.setState({modalOpen:!e.state.modalOpen})}},r.a.createElement(Fe,null,"Settings")),r.a.createElement(j.a,{isOpen:e.state.modalOpen},n),t):r.a.createElement(s.a,{style:{height:"100%"}},r.a.createElement(l.a,{span:10,style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"0px 15px"}},n),r.a.createElement(l.a,{span:14,style:{height:"100%"}},t))})}}]),n}(a.Component),qe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ue(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(Ke,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat(".","/service-worker.js");qe?(function(e){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ue(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Ue(e)})}}()}},[[155,1,2]]]);
//# sourceMappingURL=main.0bb610c5.chunk.js.map